/*! For license information please see 5.a1556c8c.chunk.js.LICENSE.txt */
(this["webpackJsonpuser-emails"]=this["webpackJsonpuser-emails"]||[]).push([[5],{245:function(e,t,a){var c;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var c=arguments[t];if(c){var r=typeof c;if("string"===r||"number"===r)e.push(c);else if(Array.isArray(c)){if(c.length){var o=n.apply(null,c);o&&e.push(o)}}else if("object"===r){if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]")){e.push(c.toString());continue}for(var s in c)a.call(c,s)&&c[s]&&e.push(s)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(c=function(){return n}.apply(t,[]))||(e.exports=c)}()},246:function(e,t,a){"use strict";t.a=a.p+"static/media/delete_category_icon.8daf2a28.svg"},247:function(e,t,a){e.exports={modal:"Modal_modal__1IfCr",appear:"Modal_appear__3YXRK",modal__dialog:"Modal_modal__dialog__2PXUM",animatetop:"Modal_animatetop__2fJ7z","slide-in":"Modal_slide-in__2am5o",active:"Modal_active__3-wtL",modal__close:"Modal_modal__close__2QM8W",modal__body:"Modal_modal__body__1roHs",modal__content:"Modal_modal__content__3UUuS"}},248:function(e,t,a){"use strict";t.a=a.p+"static/media/filter_arrow_icon.70ae096d.svg"},249:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var c=["All Statuses","Moderation","Not approved","Approved"]},250:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var c=a(0),n=a.n(c),r=a.p+"static/media/close.88acf654.svg",o=a(247),s=a.n(o),l=a(2);function i(e){var t=e.isCloseIcon,a=void 0===t||t,c=e.visible,o=void 0!==c&&c,i=e.content,_=void 0===i?"":i,m=e.onClose,u=function(e){if("Escape"===e.key)m()};return n.a.useEffect((function(){return document.addEventListener("keydown",u),function(){return document.removeEventListener("keydown",u)}})),o?Object(l.jsx)("div",{className:s.a.modal,onClick:m,children:Object(l.jsx)("div",{className:s.a.modal__dialog,onClick:function(e){return e.stopPropagation()},children:Object(l.jsxs)("div",{className:s.a.modal__body,children:[a&&Object(l.jsx)("span",{className:s.a.modal__close,onClick:m,children:Object(l.jsx)("img",{src:r,alt:"close"})}),_]})})}):null}},274:function(e,t,a){e.exports={new:"NewMeme_new__1viAv",new__container:"NewMeme_new__container__3hmu0",new__header:"NewMeme_new__header__1IzC2",new__back:"NewMeme_new__back__2dJA2",new__delete:"NewMeme_new__delete__2Xjd9",active:"NewMeme_active__2yFH2",form:"NewMeme_form__2zuSS",form__item:"NewMeme_form__item__3819q",form__label:"NewMeme_form__label__1NgS8",form__input:"NewMeme_form__input__1LNya",form__textarea:"NewMeme_form__textarea__30vuI",form__from:"NewMeme_form__from__1hasB",form__subtitle:"NewMeme_form__subtitle__15qUa",empty:"NewMeme_empty__1E0ib",yellow:"NewMeme_yellow__2bbHc",red:"NewMeme_red__2_cQb",green:"NewMeme_green__2aDLz",form__arrow:"NewMeme_form__arrow__1PmNk",form__submit:"NewMeme_form__submit__3ihiX",sort:"NewMeme_sort__1KhtS",sort__item:"NewMeme_sort__item__1qTkU",sort__count:"NewMeme_sort__count__3Nj8p",upload:"NewMeme_upload__2z5J9",upload__body:"NewMeme_upload__body__2Iqn3",upload__text:"NewMeme_upload__text__2-9PI",upload__preview:"NewMeme_upload__preview__2TWUO"}},275:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t),a.d(t,"NewMeme",(function(){return T}));var c=a(3),n=a(42),r=a(14),o=a(56),s=a(15),l=a(9),i=a(18),_=a(274),m=a.n(_),u=a.p+"static/media/create_back_icon.8a39eace.svg",d=a(246),b=a(62),j=a(0),f=a(248),p=a(245),O=a.n(p),g=a(243),h=a(237),v=a(236),x=(a(275),a(71)),N=a.p+"static/media/create_submit_icon.d716b2ec.svg",w=a(249),y=a(239),M=a(70),S=a(28),k=a(250),C=a(2),I=[];function T(){var e,t=Object(i.g)(),a=Object(M.a)(),_=a.setTemplates,p=a.setCategories,T=a.setOtherCategory,A=Object(b.a)((function(e){return e.categories})),D=A.categoriesArray,E=A.otherCategory,F=Object(b.a)((function(e){return e.templates})).templatesArray,U=Object(j.useState)(!1),z=Object(l.a)(U,2),L=z[0],J=z[1],P=Object(j.useState)(!1),q=Object(l.a)(P,2),B=q[0],R=q[1],X=Object(j.useState)([]),H=Object(l.a)(X,2),K=H[0],Q=H[1],W=Object(j.useState)(!1),Y=Object(l.a)(W,2),G=Y[0],V=Y[1],Z=Object(j.useState)(""),$=Object(l.a)(Z,2),ee=($[0],$[1]),te=Object(j.useState)(""),ae=Object(l.a)(te,2),ce=ae[0],ne=ae[1],re=Object(j.useState)(""),oe=Object(l.a)(re,2),se=oe[0],le=oe[1],ie=Object(j.useState)(!1),_e=Object(l.a)(ie,2),me=_e[0],ue=_e[1],de=Object(j.useState)(!1),be=Object(l.a)(de,2),je=be[0],fe=be[1],pe=Object(j.useState)({name:"",category:"",slug:"",tags:[],TemplateImg:"",metadata:"",status:"Moderation",isShow:!0,comment:"",id:Object(y.a)()}),Oe=Object(l.a)(pe,2),ge=Oe[0],he=Oe[1],ve=Object(j.useRef)(null);Object(j.useEffect)((function(){var e=D.filter((function(e){return 1==e.isShow&&""!=e.name})).map((function(e){return e.name}));if(Q([].concat(Object(s.a)(e),[E.name])),t.location.pathname.split(":")[1]){var a=F.filter((function(e){return e.slug==t.location.pathname.split(":")[1]}));he(a[0]),ne(a[0].category),le(a[0].status)}}),[]),Object(j.useEffect)((function(){""!=ge.TemplateImg?ve.current.style.display="block":ve.current.style.display="none"}),[ge.TemplateImg]),Object(j.useEffect)((function(){"Not approved"==ge.status&&ue(!0)}),[ge.status]);var xe=function(){var e=Object(o.a)(Object(n.a)().mark((function e(t){var a,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new FormData,/image-*/.test(t.target.files[0].type)){e.next=5;break}return ee("Supported image formats: .jpeg, .jpg, .png, .bmp"),e.abrupt("return");case 5:if(!(t.target.files[0].size>2e7)){e.next=8;break}return ee("Too large photo"),e.abrupt("return");case 8:a.append("icon",t.target.files[0]),(c=new FileReader).onloadend=function(){ve.current.src=c.result,ve.current.style.display="block",he(Object(r.a)(Object(r.a)({},ge),{},{TemplateImg:c.result.toString()}))},t.target.files[0]?c.readAsDataURL(t.target.files[0]):ve.current.src="",V(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:m.a.new,children:[G&&Object(C.jsx)(x.b,{fullScreen:!0}),Object(C.jsxs)("div",{className:m.a.new__container,children:[Object(C.jsxs)("div",{className:m.a.new__header,children:[Object(C.jsxs)("a",{className:m.a.new__back,onClick:function(){return t.push(S.a.base)},children:[Object(C.jsx)("img",{src:u,alt:"back icon"})," Back"]}),Object(C.jsxs)("a",{onClick:function(){return fe(!0)},className:O()(m.a.new__delete,Object(c.a)({},m.a.active,t.location.pathname.split(":")[1])),children:[Object(C.jsx)("img",{src:d.a,alt:"delete icon"})," Delete a Template"]})]}),Object(C.jsxs)("form",{onSubmit:function(e){!function(e){if(e.preventDefault(),"Not approved"==ge.status&&he(Object(r.a)(Object(r.a)({},ge),{},{comment:""})),t.location.pathname.split(":")[1]){var a=F.map((function(e){return e.slug===t.location.pathname.split(":")[1]?Object(r.a)(Object(r.a)({},e),ge):e}));if(se!=ge.status){var c=a.indexOf(a.filter((function(e){return e.slug==ge.slug}))[0]),n=a.splice(c,1)[0];console.log(c),a.splice(0,0,n)}_(a)}else _([ge].concat(Object(s.a)(F)));var o=D.map((function(e){return e.name===ge.category?Object(r.a)(Object(r.a)({},e),{},{count:e.count+1}):""!=ce&&e.name===ce?Object(r.a)(Object(r.a)({},e),{},{count:e.count-1}):e}));"Other"==ge.category&&T(Object(r.a)(Object(r.a)({},E),{},{count:E.count+1})),p(o),t.push(S.a.base)}(e)},className:"".concat(m.a.new__form," ").concat(m.a.form),children:[Object(C.jsxs)("div",{className:m.a.form__item,children:[Object(C.jsx)("label",{htmlFor:"Name",className:m.a.form__label,children:"Name"}),Object(C.jsx)("input",{value:ge.name,onChange:function(e){return he(Object(r.a)(Object(r.a)({},ge),{},{name:e.currentTarget.value}))},tabIndex:0,type:"text",id:"Name",placeholder:"Name for Meme",className:m.a.form__input})]}),Object(C.jsxs)("div",{className:m.a.form__item,children:[Object(C.jsx)("label",{className:m.a.form__label,children:"Category"}),Object(C.jsxs)("div",{tabIndex:1,onBlur:function(){R(!1),J(!1)},onClick:function(){R(!1),J(!1),J(!L)},className:m.a.form__from,children:[Object(C.jsxs)("div",{className:O()(m.a.form__subtitle,Object(c.a)({},m.a.empty,""==ge.category)),children:[""==ge.category?"Choose one category":ge.category," ",Object(C.jsx)("img",{src:f.a,className:O()(m.a.form__arrow,Object(c.a)({},m.a.active,L)),alt:"filter arrow"})]}),Object(C.jsx)("div",{className:O()("".concat(m.a.form__sort," ").concat(m.a.sort),Object(c.a)({},m.a.active,L)),children:K.map((function(e){return Object(C.jsx)("a",{onClick:function(){J(!L),he(Object(r.a)(Object(r.a)({},ge),{},{category:e}))},className:m.a.sort__item,children:e},e)}))})]})]}),Object(C.jsxs)("div",{className:m.a.form__item,children:[Object(C.jsx)("label",{htmlFor:"Slug",className:m.a.form__label,children:"Slug"}),Object(C.jsx)("input",{value:ge.slug,onChange:function(e){return he(Object(r.a)(Object(r.a)({},ge),{},{slug:e.currentTarget.value}))},tabIndex:2,type:"text",id:"Slug",placeholder:"Address name for browser",className:m.a.form__input})]}),Object(C.jsxs)("div",{className:m.a.form__item,children:[Object(C.jsx)("label",{className:m.a.form__label,children:"Tags"}),Object(C.jsx)(v.a,{tabIndex:3,value:ge.tags,onChange:function(e,t){he(Object(r.a)(Object(r.a)({},ge),{},{tags:t}))},multiple:!0,id:"tags-filled",options:I.map((function(e){return e.tag})),freeSolo:!0,renderTags:function(e,t){return e.map((function(e,a){return Object(C.jsx)(g.a,Object(r.a)({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return Object(C.jsx)(h.a,Object(r.a)(Object(r.a)({},e),{},{variant:"filled",placeholder:"Tags for search"}))}})]}),Object(C.jsx)("div",{className:m.a.form__item,children:Object(C.jsx)("div",{className:"".concat(m.a.form__upload," ").concat(m.a.upload),children:Object(C.jsxs)("div",{className:m.a.upload__body,children:[Object(C.jsx)("label",{htmlFor:"file-input_icon",children:Object(C.jsx)("p",{className:m.a.upload__text,children:"Upload Original Meme"})}),Object(C.jsx)("img",{className:m.a.upload__preview,ref:ve,src:ge.TemplateImg,height:"200"}),Object(C.jsx)("input",{id:"file-input_icon",type:"file",onClick:function(e){e.currentTarget.value=null},onChange:function(e){xe(e)},accept:"image/*"})]})})}),Object(C.jsxs)("div",{className:m.a.form__item,children:[Object(C.jsx)("label",{htmlFor:"Metadata",className:m.a.form__label,children:"Metadata"}),Object(C.jsx)("textarea",{value:ge.metadata,onChange:function(e){return he(Object(r.a)(Object(r.a)({},ge),{},{metadata:e.currentTarget.value}))},tabIndex:4,id:"Metadata",placeholder:"Code from json",className:m.a.form__textarea})]}),Object(C.jsxs)("div",{className:m.a.form__item,children:[Object(C.jsx)("label",{className:m.a.form__label,children:"Status"}),Object(C.jsxs)("div",{tabIndex:5,onBlur:function(){R(!1),J(!1)},onClick:function(){J(!1),R(!B)},className:m.a.form__from,children:[Object(C.jsxs)("div",{className:O()(m.a.form__subtitle,(e={},Object(c.a)(e,m.a.yellow,"Moderation"==ge.status),Object(c.a)(e,m.a.red,"Not approved"==ge.status),Object(c.a)(e,m.a.green,"Approved"==ge.status),e)),children:[ge.status," ",Object(C.jsx)("img",{src:f.a,className:O()(m.a.form__arrow,Object(c.a)({},m.a.active,B)),alt:"filter arrow"})]}),Object(C.jsx)("div",{className:O()("".concat(m.a.form__sort," ").concat(m.a.sort),Object(c.a)({},m.a.active,B)),children:w.a.slice(1).map((function(e){var t;return Object(C.jsx)("a",{onClick:function(){R(!B),he(Object(r.a)(Object(r.a)({},ge),{},{status:e}))},className:O()(m.a.sort__item,(t={},Object(c.a)(t,m.a.yellow,"Moderation"==e),Object(c.a)(t,m.a.red,"Not approved"==e),Object(c.a)(t,m.a.green,"Approved"==e),t)),children:e},e)}))})]})]}),me&&Object(C.jsxs)("div",{className:m.a.form__item,children:[Object(C.jsx)("label",{htmlFor:"comment",className:m.a.form__label,children:"Admin comment"}),Object(C.jsx)("textarea",{value:ge.comment,onChange:function(e){return he(Object(r.a)(Object(r.a)({},ge),{},{comment:e.currentTarget.value}))},tabIndex:6,id:"comment",placeholder:"Description of the problem",className:m.a.form__textarea})]}),Object(C.jsxs)("button",{className:O()(m.a.form__submit,Object(c.a)({},m.a.active,""!=ge.name&&""!=ge.category&&""!=ge.slug&&ge.tags.length>0&&""!=ge.TemplateImg&&""!=ge.metadata)),type:"submit",children:[Object(C.jsx)("img",{src:N,alt:"submit icon"})," Submit"]})]})]}),Object(C.jsx)(k.a,{visible:je,content:Object(C.jsx)(x.a,{handleDelete:function(){_(F.filter((function(e){return e.slug!=ge.slug}))),fe(!1),t.push(S.a.newMeme)},title:"Delete the Template?",text:"The template cannot be restored",setIsShowDelete:fe}),onClose:function(){fe(!1)}})]})}}}]);
//# sourceMappingURL=5.a1556c8c.chunk.js.map